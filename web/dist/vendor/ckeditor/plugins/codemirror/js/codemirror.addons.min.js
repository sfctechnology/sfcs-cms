!function(){function e(e,t){var n=e.getRange(CodeMirror.Pos(t.line,t.ch-1),CodeMirror.Pos(t.line,t.ch+1));return 2==n.length?n:null}function t(t){for(var r={name:"autoCloseBrackets",Backspace:function(n){if(n.somethingSelected())return CodeMirror.Pass;var r=n.getCursor(),o=e(n,r);if(!o||0!=t.indexOf(o)%2)return CodeMirror.Pass;n.replaceRange("",CodeMirror.Pos(r.line,r.ch-1),CodeMirror.Pos(r.line,r.ch+1))}},o="",i=0;i<t.length;i+=2)!function(e,t){function i(e){var n=e.getCursor();if(e.getRange(n,CodeMirror.Pos(n.line,n.ch+1))!=t||e.somethingSelected())return CodeMirror.Pass;e.execCommand("goCharRight")}e!=t&&(o+=t),r["'"+e+"'"]=function(r){if("'"==e&&"comment"==r.getTokenAt(r.getCursor()).type)return CodeMirror.Pass;if(r.somethingSelected()){var a=r.getSelection();r.replaceSelection(e+a+t)}else if(e!=t||i(r)==CodeMirror.Pass){a=r.getCursor();var s=CodeMirror.Pos(a.line,a.ch+1),l=r.getLine(a.line),c=l.charAt(a.ch),f=a.ch>0?l.charAt(a.ch-1):"";if(e==t&&CodeMirror.isWordChar(f)||!(l.length==a.ch||o.indexOf(c)>=0||n.test(c)))return CodeMirror.Pass;r.replaceSelection(e+t,{head:s,anchor:s})}},e!=t&&(r["'"+t+"'"]=i)}(t.charAt(i),t.charAt(i+1));return r}var n=/\s/;CodeMirror.defineOption("autoCloseBrackets",!1,(function(n,r,o){var i,a,s;o!=CodeMirror.Init&&o&&n.removeKeyMap("autoCloseBrackets"),r&&(i="()[]{}''\"\"",a="[]{}","string"==typeof r?i=r:"object"==typeof r&&(null!=r.pairs&&(i=r.pairs),null!=r.explode&&(a=r.explode)),s=t(i),a&&(s.Enter=function(t){return function(n){var r=n.getCursor(),o=e(n,r);if(!o||0!=t.indexOf(o)%2)return CodeMirror.Pass;n.operation((function(){var e=CodeMirror.Pos(r.line+1,0);n.replaceSelection("\n\n",{anchor:e,head:e},"+input"),n.indentLine(r.line+1,null,!0),n.indentLine(r.line+2,null,!0)}))}}(a)),n.addKeyMap(s))}))}(),function(){function e(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;++n)if(e[n]==t)return n;return-1}CodeMirror.defineOption("autoCloseTags",!1,(function(r,o,i){i!=CodeMirror.Init&&i&&r.removeKeyMap("autoCloseTags"),o&&(i={name:"autoCloseTags"},("object"!=typeof o||o.whenClosing)&&(i["'/'"]=function(e){var t,n=e.getCursor(),r=e.getTokenAt(n),o=CodeMirror.innerMode(e.getMode(),r.state),i=o.state;return"string"==r.type||"<"!=r.string.charAt(0)||r.start!=n.ch-1||"xml"!=o.mode.name?t=CodeMirror.Pass:(n=i.context&&i.context.tagName)&&e.replaceSelection("/"+n+">","end"),t}),("object"!=typeof o||o.whenOpening)&&(i["'>'"]=function(r){var o,i,a=r.getCursor(),s=r.getTokenAt(a),l=(u=CodeMirror.innerMode(r.getMode(),s.state)).state;if("xml"==u.mode.name&&l.tagName){var c=r.getOption("autoCloseTags"),f="html"==u.mode.configuration,u="object"==typeof c&&c.dontCloseTags||f&&t;f="object"==typeof c&&c.indentTags||f&&n,c=l.tagName,s.end>a.ch&&(c=c.slice(0,c.length-s.end+a.ch)),i=c.toLowerCase(),"string"==s.type&&(s.end!=a.ch||!/[\"\']/.test(s.string.charAt(s.string.length-1))||1==s.string.length)||"tag"==s.type&&"closeTag"==l.type||s.string.indexOf("/")==s.string.length-1||u&&e(u,i)>-1?o=CodeMirror.Pass:(l=(s=f&&e(f,i)>-1)?CodeMirror.Pos(a.line+1,0):CodeMirror.Pos(a.line,a.ch+1),r.replaceSelection(">"+(s?"\n\n":"")+"</"+c+">",{head:l,anchor:l}),s&&(r.indentLine(a.line+1),r.indentLine(a.line+2)))}else o=CodeMirror.Pass;return o}),r.addKeyMap(i))}));var t="area base br col command embed hr img input keygen link meta param source track wbr".split(" "),n="applet blockquote body button div dl fieldset form frameset h1 h2 h3 h4 h5 h6 head html iframe layer legend object ol p select table ul".split(" ")}(),function(){function e(e){var t,n,r,o,i=e.getCursor(),a=e.getTokenAt(i),s=CodeMirror.innerMode(e.getMode(),a.state).mode;if("comment"==a.type&&s.blockCommentStart&&(n=a.string.indexOf(s.blockCommentEnd),r=e.getRange(CodeMirror.Pos(i.line,0),CodeMirror.Pos(i.line,a.end)),-1==n||n!=a.string.length-s.blockCommentEnd.length))if(0==a.string.indexOf(s.blockCommentStart)){if(t=r.slice(0,a.start),!/^\s*$/.test(t))for(t="",i=0;i<a.start;++i)t+=" "}else-1!=(o=r.indexOf(s.blockCommentContinue))&&o+s.blockCommentContinue.length>a.start&&/^\s*$/.test(r.slice(0,o))&&(t=r.slice(0,o));if(null==t)return CodeMirror.Pass;e.replaceSelection("\n"+t+s.blockCommentContinue,"end")}for(var t=["clike","css","javascript"],n=0;n<t.length;++n)CodeMirror.extendMode(t[n],{blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * "});CodeMirror.defineOption("continueComments",null,(function(t,n,r){r&&r!=CodeMirror.Init&&t.removeKeyMap("continueComment"),(r={name:"continueComment"})["string"==typeof n?n:"Enter"]=e,t.addKeyMap(r)}))}(),function(){function e(e,t,n){function r(t,n,r){var l,f,u,d;if(t.text){if(l=a?0:t.text.length-1,f=a?t.text.length:-1,t.text.length>c)return null;for(null!=r&&(l=r+s);l!=f;l+=s)if(u=t.text.charAt(l),C.test(u)&&e.getTokenTypeAt(o(n,l+1))==h)if(">"==(d=i[u]).charAt(1)==a)m.push(u);else{if(m.pop()!=d.charAt(0))return{pos:l,match:!1};if(!m.length)return{pos:l,match:!0}}}}var a,s,l,c=(f=e.state.matchBrackets)&&f.maxScanLineLength||1e4,f=f&&f.maxScanLines||100,u=(t=t||e.getCursor(),e.getLineHandle(t.line)),d=t.ch-1,g=0<=d&&i[u.text.charAt(d)]||i[u.text.charAt(++d)];if(!g||(a=">"==g.charAt(1),s=a?1:-1,n&&a!=(d==t.ch)))return null;var h=e.getTokenTypeAt(o(t.line,d+1)),m=[u.text.charAt(d)],C=/[(){}[\]]/;for(n=t.line,f=a?Math.min(n+f,e.lineCount()):Math.max(-1,n-f);n!=f&&!(l=n==t.line?r(u,n,d):r(e.getLineHandle(n),n));n+=s);return{from:o(t.line,d),to:l&&o(n,l.pos),match:l&&l.match,forward:a}}function t(t,n){var i=t.state.matchBrackets.maxHighlightLineLength||1e3,a=e(t);if(a&&!(t.getLine(a.from.line).length>i)&&(!a.to||!(t.getLine(a.to.line).length>i))){i=a.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";var s=t.markText(a.from,o(a.from.line,a.from.ch+1),{className:i}),l=a.to&&t.markText(a.to,o(a.to.line,a.to.ch+1),{className:i});if(r&&t.state.focused&&t.display.input.focus(),a=function(){t.operation((function(){s.clear(),l&&l.clear()}))},!n)return a;setTimeout(a,800)}}function n(e){e.operation((function(){a&&(a(),a=null),e.somethingSelected()||(a=t(e,!1))}))}var r=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||8>document.documentMode),o=CodeMirror.Pos,i={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},a=null;CodeMirror.defineOption("matchBrackets",!1,(function(e,t,r){r&&r!=CodeMirror.Init&&e.off("cursorActivity",n),t&&(e.state.matchBrackets="object"==typeof t?t:{},e.on("cursorActivity",n))})),CodeMirror.defineExtension("matchBrackets",(function(){t(this,!0)})),CodeMirror.defineExtension("findMatchingBracket",(function(t,n){return e(this,t,n)}))}(),function(){function e(e){e.state.tagHit&&e.state.tagHit.clear(),e.state.tagOther&&e.state.tagOther.clear(),e.state.tagHit=e.state.tagOther=null}function t(t){t.state.failedTagMatch=!1,t.operation((function(){var n,r,o,i,a;e(t),t.somethingSelected()||(n=t.getCursor(),(r=t.getViewport()).from=Math.min(r.from,n.line),r.to=Math.max(n.line+1,r.to),(o=CodeMirror.findMatchingTag(t,n,r))&&(t.state.matchBothTags&&(i="open"==o.at?o.open:o.close)&&(t.state.tagHit=t.markText(i.from,i.to,{className:"CodeMirror-matchingtag"})),(a="close"==o.at?o.open:o.close)?t.state.tagOther=t.markText(a.from,a.to,{className:"CodeMirror-matchingtag"}):t.state.failedTagMatch=!0))}))}function n(e){e.state.failedTagMatch&&t(e)}CodeMirror.defineOption("matchTags",!1,(function(r,o,i){i&&i!=CodeMirror.Init&&(r.off("cursorActivity",t),r.off("viewportChange",n),e(r)),o&&(r.state.matchBothTags="object"==typeof o&&o.bothTags,r.on("cursorActivity",t),r.on("viewportChange",n),t(r))})),CodeMirror.commands.toMatchingTag=function(e){var t,n=CodeMirror.findMatchingTag(e,e.getCursor());n&&(t="close"==n.at?n.open:n.close)&&e.setSelection(t.to,t.from)}}(),CodeMirror.defineOption("showTrailingSpace",!1,(function(e,t,n){n==CodeMirror.Init&&(n=!1),n&&!t?e.removeOverlay("trailingspace"):!n&&t&&e.addOverlay({token:function(e){for(var t=e.string.length,n=t;n&&/\s/.test(e.string.charAt(n-1));--n);return n>e.pos?(e.pos=n,null):(e.pos=t,"trailingspace")},name:"trailingspace"})})),function(){function e(e,t,n,r){function o(n){var o,a,s=l(e,t);if(!s||s.to.line-s.from.line<i)return null;for(o=e.findMarksAt(s.from),a=0;a<o.length;++a)if(o[a].__isFold&&"fold"!==r){if(!n)return null;s.cleared=!0,o[a].clear()}return s}var i,a,s,l=n&&(n.call?n:n.rangeFinder);if(l||(l=e.getHelper(t,"fold")),l){if("number"==typeof t&&(t=CodeMirror.Pos(t,0)),i=n&&n.minFoldSize||0,a=o(!0),n&&n.scanUp)for(;!a&&t.line>e.firstLine();)t=CodeMirror.Pos(t.line-1,0),a=o(!1);a&&!a.cleared&&"unfold"!==r&&(n=function(e){var t;return"string"==typeof(e=e&&e.widget||"â†”")&&(t=document.createTextNode(e),(e=document.createElement("span")).appendChild(t),e.className="CodeMirror-foldmarker"),e}(n),CodeMirror.on(n,"mousedown",(function(){s.clear()})),(s=e.markText(a.from,a.to,{replacedWith:n,clearOnEnter:!0,__isFold:!0})).on("clear",(function(t,n){CodeMirror.signal(e,"unfold",e,t,n)})),CodeMirror.signal(e,"fold",e,a.from,a.to))}}CodeMirror.newFoldFunction=function(t,n){return function(r,o){e(r,o,{rangeFinder:t,widget:n})}},CodeMirror.defineExtension("foldCode",(function(t,n,r){e(this,t,n,r)})),CodeMirror.registerHelper("fold","combine",(function(){var e=Array.prototype.slice.call(arguments,0);return function(t,n){for(var r,o=0;o<e.length;++o)if(r=e[o](t,n))return r}}))}(),CodeMirror.registerHelper("fold","brace",(function(e,t){function n(n){for(var o,i=t.ch,a=0;;)if(-1==(o=0>=i?-1:h.lastIndexOf(n,i-1))){if(1==a)break;a=1,i=h.length}else{if(1==a&&o<t.ch)break;if(r=e.getTokenTypeAt(CodeMirror.Pos(g,o+1)),!/^(comment|string)/.test(r))return o+1;i=o-1}}var r,o,i,a,s,l,c,f,u,d,g=t.line,h=e.getLine(g),m="{",C="}",p=n("{");if(null==p&&(m="[",C="]",p=n("[")),null!=p){o=1,i=e.lastLine(),l=g;e:for(;l<=i;++l)for(c=e.getLine(l),f=l==g?p:0;u=c.indexOf(m,f),d=c.indexOf(C,f),0>u&&(u=c.length),0>d&&(d=c.length),(f=Math.min(u,d))!=c.length;){if(e.getTokenTypeAt(CodeMirror.Pos(l,f+1))==r)if(f==u)++o;else if(!--o){a=l,s=f;break e}++f}if(null!=a&&(g!=a||s!=p))return{from:CodeMirror.Pos(g,p),to:CodeMirror.Pos(a,s)}}})),CodeMirror.braceRangeFinder=CodeMirror.fold.brace,CodeMirror.registerHelper("fold","import",(function(e,t){function n(t){var n,r,o;if(t<e.firstLine()||t>e.lastLine()||(n=e.getTokenAt(CodeMirror.Pos(t,1)),/\S/.test(n.string)||(n=e.getTokenAt(CodeMirror.Pos(t,n.end+1))),"keyword"!=n.type||"import"!=n.string))return null;for(r=t,t=Math.min(e.lastLine(),t+10);r<=t;++r)if(-1!=(o=e.getLine(r).indexOf(";")))return{startCh:n.end,end:CodeMirror.Pos(r,o)}}var r,o,i=n(t=t.line);if(!i||n(t-1)||(r=n(t-2))&&r.end.line==t-1)return null;for(r=i.end;null!=(o=n(r.line+1));)r=o.end;return{from:e.clipPos(CodeMirror.Pos(t,i.startCh+1)),to:r}})),CodeMirror.importRangeFinder=CodeMirror.fold.import,CodeMirror.registerHelper("fold","include",(function(e,t){function n(t){if(t<e.firstLine()||t>e.lastLine())return null;var n=e.getTokenAt(CodeMirror.Pos(t,1));return/\S/.test(n.string)||(n=e.getTokenAt(CodeMirror.Pos(t,n.end+1))),"meta"==n.type&&"#include"==n.string.slice(0,8)?n.start+8:void 0}var r,o=n(t=t.line);if(null==o||null!=n(t-1))return null;for(r=t;null!=n(r+1);)++r;return{from:CodeMirror.Pos(t,o+1),to:e.clipPos(CodeMirror.Pos(r))}})),CodeMirror.includeRangeFinder=CodeMirror.fold.include,function(){function e(e,t,n,r){this.line=t,this.ch=n,this.cm=e,this.text=e.getLine(t),this.min=r?r.from:e.firstLine(),this.max=r?r.to-1:e.lastLine()}function t(e,t){var n=e.cm.getTokenTypeAt(c(e.line,t));return n&&/\btag\b/.test(n)}function n(e){if(!(e.line>=e.max))return e.ch=0,e.text=e.cm.getLine(++e.line),!0}function r(e){if(!(e.line<=e.min))return e.text=e.cm.getLine(--e.line),e.ch=e.text.length,!0}function o(e){for(var r,o,i;;){if(-1==(r=e.text.indexOf(">",e.ch))){if(n(e))continue;break}if(t(e,r+1))return i=-1<(o=e.text.lastIndexOf("/",r))&&!/\S/.test(e.text.slice(o+1,r)),e.ch=r+1,i?"selfClose":"regular";e.ch=r+1}}function i(e){for(var n,o;;){if(-1==(n=e.ch?e.text.lastIndexOf("<",e.ch-1):-1)){if(r(e))continue;break}if(t(e,n+1)){if(f.lastIndex=n,e.ch=n,(o=f.exec(e.text))&&o.index==n)return o}else e.ch=n}}function a(e){for(;;){f.lastIndex=e.ch;var r=f.exec(e.text);if(!r){if(n(e))continue;break}if(t(e,r.index+1))return e.ch=r.index+r[0].length,r;e.ch=r.index+1}}function s(e,t){for(var n,r=[];;){var i,s=a(e),l=e.line,f=e.ch-(s?s[0].length:0);if(!s||!(i=o(e)))break;if("selfClose"!=i)if(s[1]){for(n=r.length-1;0<=n;--n)if(r[n]==s[2]){r.length=n;break}if(0>n&&(!t||t==s[2]))return{tag:s[2],from:c(l,f),to:c(e.line,e.ch)}}else r.push(s[2])}}function l(e,n){for(var o,a,s=[];;){var l;e:{l=e;for(var f=void 0,u=a=void 0;;){if(-1==(f=l.ch?l.text.lastIndexOf(">",l.ch-1):-1)){if(r(l))continue;l=void 0;break e}if(t(l,f+1)){u=-1<(a=l.text.lastIndexOf("/",f))&&!/\S/.test(l.text.slice(a+1,f)),l.ch=f+1,l=u?"selfClose":"regular";break e}l.ch=f}l=void 0}if(!(o=l))break;if("selfClose"==o)i(e);else{if(u=e.line,l=e.ch,!(f=i(e)))break;if(f[1])s.push(f[2]);else{for(a=s.length-1;0<=a;--a)if(s[a]==f[2]){s.length=a;break}if(0>a&&(!n||n==f[2]))return{tag:f[2],from:c(e.line,e.ch),to:c(u,l)}}}}}var c=CodeMirror.Pos,f=RegExp("<(/?)([A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*)","g");CodeMirror.registerHelper("fold","xml",(function(t,n){for(var r,i,l,f=new e(t,n.line,0);(r=a(f))&&f.line==n.line&&(i=o(f));)if(!r[1]&&"selfClose"!=i)return n=c(f.line,f.ch),(l=s(f,r[2]))&&{from:n,to:l.from}})),CodeMirror.tagRangeFinder=CodeMirror.fold.xml,CodeMirror.findMatchingTag=function(t,n,r){var a,f=new e(t,n.line,n.ch,r);if(-1!=f.text.indexOf(">")||-1!=f.text.indexOf("<")){var u=o(f),d=u&&c(f.line,f.ch),g=u&&i(f);if(u&&"selfClose"!=u&&g&&!(0<(f.line-n.line||f.ch-n.ch)))return a={from:c(f.line,f.ch),to:d,tag:g[2]},g[1]?{open:l(f,g[2]),close:a,at:"close"}:{open:a,close:s(f=new e(t,d.line,d.ch,r),g[2]),at:"open"}}},CodeMirror.findEnclosingTag=function(t,n,r){for(var o,i,a=new e(t,n.line,n.ch,r);o=l(a);)if(i=s(new e(t,n.line,n.ch,r),o.tag))return{open:o,close:i}}}(),CodeMirror.defineExtension("autoFormatAll",(function(e,t){for(var n,r=this,o=r.getMode(),i=r.getRange(e,t).split("\n"),a=CodeMirror.copyState(o,r.getTokenAt(e).state),s=r.getOption("tabSize"),l="",c=0,f=0==e.ch,u=0;u<i.length;++u){for(n=new CodeMirror.StringStream(i[u],s);!n.eol();){var d=CodeMirror.innerMode(o,a),g=o.token(n,a),h=n.current();n.start=n.pos,(!f||/\S/.test(h))&&(l+=h,f=!1),!f&&d.mode.newlineAfterToken&&d.mode.newlineAfterToken(g,h,n.string.slice(n.pos)||i[u+1]||"",d.state)&&(l+="\n",f=!0,++c)}!n.pos&&o.blankLine&&o.blankLine(a),!f&&u<i.length-1&&(l+="\n",f=!0,++c)}r.operation((function(){r.replaceRange(l,e,t);for(var n=e.line+1,o=e.line+c;n<=o;++n)r.indentLine(n,"smart");r.setCursor({line:0,ch:0})}))})),CodeMirror.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(e,t){return/^[;{}]$/.test(t)}}),CodeMirror.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",wordWrapChars:[";","\\{","\\}"],autoFormatLineBreaks:function(e){var t,n=0,r=this.jsonMode?function(e){return e.replace(/([,{])/g,"$1\n").replace(/}/g,"\n}")}:function(e){return e.replace(/(;|\{|\})([^\r\n;])/g,"$1\n$2")},o=function(e){for(var t,n,r=[/for\s*?\((.*?)\)/g,/&#?[a-z0-9]+;[\s\S]/g,/\"(.*?)((\")|$)/g,/\/\*(.*?)(\*\/|$)/g,/^\/\/.*/g],o=[],i=0;i<r.length;i++)for(t=0;t<e.length&&null!=(n=e.substr(t).match(r[i]));)o.push({start:t+n.index,end:t+n.index+n[0].length}),t+=n.index+Math.max(1,n[0].length);return o.sort((function(e,t){return e.start-t.start})),o}(e),i="";if(null!=o){for(t=0;t<o.length;t++)o[t].start>n&&(i+=r(e.substring(n,o[t].start)),n=o[t].start),o[t].start<=n&&o[t].end>=n&&(i+=e.substring(n,o[t].end),n=o[t].end);n<e.length&&(i+=r(e.substr(n)))}else i=r(e);return i.replace(/^\n*|\n*$/,"")}}),CodeMirror.extendMode("xml",{commentStart:"\x3c!--",commentEnd:"--\x3e",noBreak:!1,noBreakEmpty:null,tagType:"",tagName:"",isXML:!1,newlineAfterToken:function(e,t,n){var r,o=!1,i=null,a="";if(this.isXML="xml"==this.configuration,"comment"==e||/<\!--/.test(n))return!1;if("tag"==e){if(0==t.indexOf("<")&&0==!t.indexOf("</")&&(this.tagType="open",i=t.match(/^<\s*?([\w]+?)$/i),this.tagName=null!=i?i[1]:"",a=this.tagName.toLowerCase(),-1!="|label|li|option|textarea|title|a|b|bdi|bdo|big|center|cite|del|em|font|i|img|ins|s|small|span|strike|strong|sub|sup|u|".indexOf("|"+a+"|")&&(this.noBreak=!0)),0==t.indexOf(">")&&"open"==this.tagType)return this.tagType="",r=this.isXML?"[^<]*?":"",RegExp("^"+r+"</s*?"+this.tagName+"s*?>","i").test(n)?(this.noBreak=!1,this.isXML||(this.tagName=""),!1):(o=this.noBreak,this.noBreak=!1,!o);if(0==t.indexOf("</")&&(this.tagType="close",null!=(i=t.match(/^<\/\s*?([\w]+?)$/i))&&(a=i[1].toLowerCase()),-1!="|a|b|bdi|bdo|big|center|cite|del|em|font|i|img|ins|s|small|span|strike|strong|sub|sup|u|".indexOf("|"+a+"|")&&(this.noBreak=!0)),0==t.indexOf(">")&&"close"==this.tagType)return this.tagType="",0==n.indexOf("<")&&(a=null!=(i=n.match(/^<\/?\s*?([\w]+?)(\s|>)/i))?i[1].toLowerCase():"",-1=="|label|li|option|textarea|title|a|b|bdi|bdo|big|center|cite|del|em|font|i|img|ins|s|small|span|strike|strong|sub|sup|u|".indexOf("|"+a+"|"))?(this.noBreak=!1,!0):(o=this.noBreak,this.noBreak=!1,!o)}return 0==n.indexOf("<")&&(this.noBreak=!1,this.isXML&&""!=this.tagName?(this.tagName="",!1):(a=null!=(i=n.match(/^<\/?\s*?([\w]+?)(\s|>)/i))?i[1].toLowerCase():"",-1=="|label|li|option|textarea|title|a|b|bdi|bdo|big|center|cite|del|em|font|i|img|ins|s|small|span|strike|strong|sub|sup|u|".indexOf("|"+a+"|")))}}),CodeMirror.defineExtension("commentRange",(function(e,t,n){var r=this,o=CodeMirror.innerMode(r.getMode(),r.getTokenAt(t).state).mode;r.operation((function(){if(e)r.replaceRange(o.commentEnd,n),r.replaceRange(o.commentStart,t),t.line==n.line&&t.ch==n.ch&&r.setCursor(t.line,t.ch+o.commentStart.length);else{var i=r.getRange(t,n),a=i.indexOf(o.commentStart),s=i.lastIndexOf(o.commentEnd);-1<a&&-1<s&&s>a&&(i=i.substr(0,a)+i.substring(a+o.commentStart.length,s)+i.substr(s+o.commentEnd.length)),r.replaceRange(i,t,n)}}))})),CodeMirror.defineExtension("autoIndentRange",(function(e,t){var n=this;this.operation((function(){for(var r=e.line;r<=t.line;r++)n.indentLine(r,"smart")}))})),CodeMirror.defineExtension("autoFormatRange",(function(e,t){for(var n,r=this,o=r.getMode(),i=r.getRange(e,t).split("\n"),a=CodeMirror.copyState(o,r.getTokenAt(e).state),s=r.getOption("tabSize"),l="",c=0,f=0==e.ch,u=0;u<i.length;++u){for(n=new CodeMirror.StringStream(i[u],s);!n.eol();){var d=CodeMirror.innerMode(o,a),g=o.token(n,a),h=n.current();n.start=n.pos,(!f||/\S/.test(h))&&(l+=h,f=!1),!f&&d.mode.newlineAfterToken&&d.mode.newlineAfterToken(g,h,n.string.slice(n.pos)||i[u+1]||"",d.state)&&(l+="\n",f=!0,++c)}!n.pos&&o.blankLine&&o.blankLine(a),!f&&u<i.length-1&&(l+="\n",f=!0,++c)}r.operation((function(){r.replaceRange(l,e,t);for(var n=e.line+1,o=e.line+c;n<=o;++n)r.indentLine(n,"smart");r.setSelection(e,r.getCursor(!1))}))})),function(){function e(e){"object"==typeof e&&(this.minChars=e.minChars,this.style=e.style,this.showToken=e.showToken,this.delay=e.delay),null==this.style&&(this.style=i),null==this.minChars&&(this.minChars=o),null==this.delay&&(this.delay=a),this.overlay=this.timeout=null}function t(e){var t=e.state.matchHighlighter;clearTimeout(t.timeout),t.timeout=setTimeout((function(){n(e)}),t.delay)}function n(e){e.operation((function(){var t,n=e.state.matchHighlighter;if(n.overlay&&(e.removeOverlay(n.overlay),n.overlay=null),!e.somethingSelected()&&n.showToken){t=!0===n.showToken?/[\w$]/:n.showToken;for(var o=e.getCursor(),i=e.getLine(o.line),a=o=o.ch;o&&t.test(i.charAt(o-1));)--o;for(;a<i.length&&t.test(i.charAt(a));)++a;o<a&&e.addOverlay(n.overlay=r(i.slice(o,a),t,n.style))}else e.getCursor("head").line==e.getCursor("anchor").line&&(t=e.getSelection().replace(/^\s+|\s+$/g,"")).length>=n.minChars&&e.addOverlay(n.overlay=r(t,!1,n.style))}))}function r(e,t,n){return{token:function(r){if(r.match(e)&&(!t||(!r.start||!t.test(r.string.charAt(r.start-1)))&&(r.pos==r.string.length||!t.test(r.string.charAt(r.pos)))))return n;r.next(),r.skipTo(e.charAt(0))||r.skipToEnd()}}}var o=2,i="matchhighlight",a=100;CodeMirror.defineOption("highlightSelectionMatches",!1,(function(r,o,i){i&&i!=CodeMirror.Init&&((i=r.state.matchHighlighter.overlay)&&r.removeOverlay(i),clearTimeout(r.state.matchHighlighter.timeout),r.state.matchHighlighter=null,r.off("cursorActivity",t)),o&&(r.state.matchHighlighter=new e(o),n(r),r.on("cursorActivity",t))}))}();